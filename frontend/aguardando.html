<!DOCTYPE html>
<html lang="pt-br"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Status do Acesso de Líder - Eco-Leadership</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,typography,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
<style type="text/tailwindcss">
        :root {
            --primary-blue: #012df0;
            --primary-green: #5daf63;
            --accent-yellow: #ffc809;
            --danger-red: #ff1717;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 48;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">
<main class="w-full max-w-4xl bg-white rounded-[2rem] shadow-2xl overflow-hidden border border-slate-100">
<div class="flex flex-col md:flex-row min-h-[600px]">
<div class="w-full md:w-1/3 bg-[var(--primary-blue)] p-12 flex flex-col justify-between text-white relative overflow-hidden">
<div class="absolute top-0 right-0 opacity-10 transform translate-x-1/4 -translate-y-1/4">
<span class="material-symbols-outlined text-[12rem]">eco</span>
</div>
<div class="absolute bottom-0 left-0 opacity-10 transform -translate-x-1/4 translate-y-1/4">
<span class="material-symbols-outlined text-[10rem]">pending_actions</span>
</div>
<div class="relative z-10">
<div class="flex items-center gap-2 mb-12">
<span class="material-symbols-outlined text-4xl text-[var(--accent-yellow)]">recycling</span>
<span class="text-xl font-bold tracking-tight">ECO PLATFORM</span>
</div>
<h2 class="text-3xl font-bold leading-tight">Status da Solicitação</h2>
</div>
<div class="relative z-10 space-y-8">
<div class="flex items-center gap-4">
<div class="bg-white/10 p-3 rounded-2xl">
<span class="material-symbols-outlined text-[var(--accent-yellow)]">verified_user</span>
</div>
<p class="text-sm font-medium">Análise de Perfil</p>
</div>
</div>
<div class="relative z-10 text-xs text-blue-200">
                    © 2024 EcoPlatform - Liderança Sustentável
                </div>
</div>
<div class="w-full md:w-2/3 p-8 md:p-16 flex flex-col items-center justify-center text-center">
<div class="relative mb-8">
<div class="w-32 h-32 bg-green-50 rounded-full flex items-center justify-center">
<span class="material-symbols-outlined text-7xl text-[var(--primary-green)]">potted_plant</span>
</div>
<div class="absolute -top-2 -right-2 bg-[var(--accent-yellow)] p-2 rounded-full shadow-lg">
<span class="material-symbols-outlined text-white text-2xl" style="font-variation-settings: 'FILL' 1">schedule</span>
</div>
</div>
<h1 class="text-3xl md:text-4xl font-extrabold text-[var(--primary-blue)] mb-4 leading-tight" id="titulo">
                    Seu acesso de líder está em análise
                </h1>
<p class="text-lg text-slate-600 mb-8" id="msg">
<span class="font-bold text-slate-800" id="nomeUsuario">[Nome do Usuário]</span>, seu perfil está aguardando liberação do administrador.
                </p>
<div class="w-full max-w-md bg-slate-50 border border-slate-200 rounded-2xl p-6 mb-12 flex flex-col gap-3">
<div class="flex items-center justify-center gap-2 text-slate-500 font-semibold uppercase text-xs tracking-widest">
<span class="w-2 h-2 bg-[var(--accent-yellow)] rounded-full animate-pulse"></span>
                        Status Atual
                    </div>
<div class="text-slate-700">
<p class="font-bold text-lg mb-1" id="note">Acesso Comum</p>
<p class="text-sm text-slate-500">Liberação de criação de equipe pendente.</p>
</div>
</div>
<div class="flex flex-col sm:flex-row gap-4 w-full max-w-md">
<a class="flex-1 bg-[var(--primary-green)] hover:brightness-110 text-white font-bold py-4 px-6 rounded-2xl shadow-lg shadow-green-100 transition-all flex items-center justify-center gap-2" href="home.html" id="voltarInicio">
<span class="material-symbols-outlined">home</span>
                        Voltar para início
                    </a>
<button class="flex-1 bg-white border-2 border-[var(--danger-red)] text-[var(--danger-red)] hover:bg-red-50 font-bold py-4 px-6 rounded-2xl transition-all flex items-center justify-center gap-2" id="sair">
<span class="material-symbols-outlined">logout</span>
                        Sair
                    </button>
</div>
<p class="mt-12 text-slate-400 text-sm flex items-center gap-2">
<span class="material-symbols-outlined text-sm">support_agent</span>
                    Dúvidas? Entre em contato com o suporte da escola.
                </p>
</div>
</div>
</main>

<script>
    function decodeJwtPayload(token) {
      if (!token) return null;
      try {
        const payload = token.split('.')[1];
        const norm = payload.replace(/-/g, '+').replace(/_/g, '/');
        const decoded = atob(norm);
        return JSON.parse(decoded);
      } catch (err) {
        return null;
      }
    }

    function obterUserInfo() {
      try {
        const raw = localStorage.getItem('user_info');
        if (raw) return JSON.parse(raw);
      } catch (err) {
        // fallback
      }
      return decodeJwtPayload(localStorage.getItem('access_token'));
    }

    function preencherDados() {
      const info = obterUserInfo();
      const note = document.getElementById('note');
      const msg = document.getElementById('msg');
      const nomeUsuario = document.getElementById('nomeUsuario');

      if (!info) {
        window.location.href = 'login.html';
        return;
      }

      const nome = info.nome_completo || info.name || 'Líder';
      nomeUsuario.textContent = nome;
      msg.innerHTML = `<span class="font-bold text-slate-800" id="nomeUsuario">${nome}</span>, seu perfil está aguardando liberação do administrador.`;
      note.textContent = `Acesso Comum`;
    }

    document.getElementById('sair').addEventListener('click', () => {
      localStorage.removeItem('access_token');
      localStorage.removeItem('refresh_token');
      localStorage.removeItem('user_info');
      window.location.href = 'login.html';
    });

    preencherDados();
  </script>
</body></html>
